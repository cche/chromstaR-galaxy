<tool id="chromstaR_enrichment" name="chromstaR enrichment" version="1.5.1">
	<description>analysis for BED files</description>
	<requirements>
		<requirement type="package" version="3.4.3">R</requirement>
		<requirement type="package" version="1.5.1">chromstaR</requirement>
		<requirement type="package" version="1.4.4">optparse</requirement>
	</requirements>
	<stdio>
		<exit_code range="1:" />
	</stdio>
	<command detect_errors="exit_code"><![CDATA[
	Rscript '$__tool_directory__/chromstaR_enrichment.R'
		--chromstarObject $chromstarObject
		--annotationBed6 $annotationBed6
		--bpAroundAnnotation $bpAroundAnnotation
		--numIntervals $numIntervals
	]]></command>

	<inputs>
		<param type="data"    name="annotationBed6"      format="bed"   label="BED file with annotation"/>
		<param type="data"    name="chromstarObject"     format="rdata" label="chromstaR object"/>
		<param type="integer" name="bpAroundAnnotation"  value="10000"  label="Base-pairs to consider around annotation."/>
		<param type="integer" name="numIntervals"        value="20"     label="Intervals to consider inside annotation."/>
	</inputs>
	<outputs>
		<collection name="output1" label="Enrichment plots" type="list">
			<discover_datasets pattern="__designation_and_ext__" format="png" directory="plotEnrichment"/>
		</collection>  
	</outputs>
	<tests>
		<test>
		</test>
	</tests>
	<help><![CDATA[
Options:
	-o CHROMSTAROBJECT, --chromstarObject=CHROMSTAROBJECT
		File with chromstaR object.

	-a ANNOTATIONBED6, --annotationBed6=ANNOTATIONBED6
		Annotation file in BED-6 format.

	-h, --help
		Show this help message and exit
	]]></help>
  <citations>
		<citation type="doi">10.1101/038612</citation>
  </citations>
</tool>
